name: "Should use container as both init and main when multiple commands apply"

input:
  components:
    - container:
        name: test-container1
        image: my-image
    - container:
        name: test-container2
        image: my-image
  commands:
    - apply:
        id: test_preStart_command
        component: test-container1
    - exec:
        id: test_regular_command
        component: test-container1
        command: "test_command"
  events:
    preStart:
      - "test_preStart_command"

output:
  initContainers:
    - container:
        name: test-container1
        image: my-image
  mainContainers:
    - container:
        name: test-container1
        image: my-image
    - container:
        name: test-container2
        image: my-image
  errRegexp:
